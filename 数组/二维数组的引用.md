# RULE

> 第一规则：数组名的含义

`a + i` = `&a[i]`，尤其 `a` = `&a[0]`

> 第二规则：&的理解是看类型

一维数组：
`&a`，看的是`a`，这个类型是数组。因此，加一是数组大小。
`&a[0]`，看的是`a[0]`，这个类型是int。因此，加一是int大小。


二维数组：
`&a`，看的是`a`，这个类型是二维数组。因此，加一是二维数组大小。
`&a[0]`，看的是`a[0]`，这个类型是一维数组。因此，加一是一维数组大小，即行移动。
`&a[0][0]`，看的是`a[0][0]`，这个类型是int。因此，加一是int大小，即列移动。

---


数组的首元素地址（加的是元素指针）：`a`、`&a[0]`
数组的首地址（加的是整个数组指针）：`&a`

---
因此，结合这两条规则，就是所有的变化。

# 一维数组

a[i]的地址：`&a[i]` = `&a[0] + i`（第二规则） = `a + i`（第一规则）

a[i]：`a[i]`（即`*(&a[i])`） = `*(&a[0] + i)` = `*(a + i)`




# 二维数组

> 第三规则：二维数组的元素是一维数组

二维数组a包含3个行元素，a[0],a[1],a[2]，而每个行元素又是一个一维数组，各包含4个元素。也就是说，二维数组的首元素是一个一维数组。

a[i]的值是一维数组的首元素地址，即`a[i] ` = `&a[i][0]`。

---

a[i][j]的地址：`&a[i][j]` = `&a[i][0] + j`（第二规则） = `a[i] + j`（第三规则） = `*(a + i) + j`（第一规则）

a[i][j]：`a[i][j]` = `*(&a[i][0] + j`) = `*(a[i] + j)` = `*(*(a + i) + j)`

---

PS：a[i][j] = `*(a + i)[j]`不对，`[]`的优先级高于`*`。

- `*(*(a+i)+j)`, 
- `*(*a+i*4+j)`：
`a[i] = *(a+i) = *a + i*4`

下列表达式中与数组元素a[1][2]等价的是（）
a[1][2] 是数组的第七个元素，所以
- `*(&a[0][0]+7)`
- `(a[1]+2)` 



a[1][2]:
- `a[i][j]`, 
- `*(a[i]+j)`, 
- `(*(a+i))[j]`：
`*(a+i)[j]`不对，`[]`的优先级高于`*`。

- `*(*(a+i)+j)`, 
- `*(*a+i*4+j)`：
`a[i] = *(a+i) = *a + i*4`

# 题

若已定义：int a[4][3]={1,2,3,4,5,6,7,8,9,10,11,12},(*prt)[3]=a,*p=a[0];则能够正确表示数组元素a[1][2]的表达式是（        ）
正确答案: D   你的答案: D (正确)
*((*prt+1)[2])
*(*p+5))
(*prt+1)+2
*(*(a+1)+2)


A：(*prt)[3]是一个数组指针，所以是(*(ptr+1))[2]
B：*p是一个指针，则是 *(p+5)
C：应该为：*(*(prt+1)+2)
D：*(*(a+1)+2)正确
编辑于 2018-10-11 10:12:48回复(1)
11

孙新头像孙新
简单说就是，通过数组指针（prt）或者二维数组本身名字（a）访问二维数组的值，*和［］这两个东西的总数得是2。用这两个名字来访问基本是等同的。 所以a.c.d三个选项中，都是通过prt和a来访问的，a多了一层，c少了一层，都不行，d可以。 有效的方式如下（a可以由prt代替）—————— a[1][2];—— *(a[1]+2);—— *(*(a+1)+2);—— *(*a+5);—— (*a+1)[4];—— b的话，是通过一级指针访问的，可以有两种：—— *(p+5);—— p[5];—— 但是b多了半个括号，就不行了。还有就是，注意—— *p+5;—— 是错的，因为，这个是1+5的结果，可以把后面的6改成99能试出来。
